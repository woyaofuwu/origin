<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head jwcid="@Head">
<script jwcid="@Script" language="JavaScript"  src="scripts/csserv/common/intf/interfacecreate.js" ></script>
</head>
<body jwcid="@Body"><div class="m_wrapper"><div class="m_wrapper2">

<div class="c_box">
	<div class="c_tip">
		接口编码为接口服务名，如CS.TradeFinishSVC.finish
	</div>
</div>

<div class="c_box">
	<div class="c_tip">
		如果入参IData包含IDataset，可以这样创建：<br/>
		比如入参IData有ITEM_INFO这个字段，且ITEM_INFO是IDataset，可以在场景参数中定义ITEM_INFO=$ITEM_INFO$,然后在TD_S_INTERFACE_PARAMS表中保存变量ITEM_INFO的值。
	</div>
</div>

<!-- 区域 开始 -->
<div class="c_box">
	<!-- 标题 开始 -->
	<div class="c_title">
		<div class="text">服务查询</div>
	</div>
	<!-- 标题 结束 -->
	<!-- 表单 开始 -->
	<div class="c_form">
		<ul class="ul" jwcid="QueryPart@Part">
			<li class="li">
				<span class="label"><span class="e_required">接口编码：</span></span>
				<span class="e_input" style="width:260px"><span>
				<input type="text" jwcid="@TextField" name="cond_INTERFACE_ID" id="cond_INTERFACE_ID" value="ognl:condition.cond_INTERFACE_ID" nullable="no" desc="接口编码" />
				</span></span>
			</li>
		</ul>
		<div class="submitPlace"></div>
		<div class="submit">
			<button class="e_button-form" type="button" onclick="return queryinterface();"><i class="e_ico-search"></i><span>查询</span></button>
		</div>
		<li class="li">
			<span class="label"><font color='GREEN'>如果是IBOSS接口,此处请填写KIND_ID</font></span>
		</li>
	</div>
	<!-- 表单 结束 -->
	<!-- 参数列表 开始 -->
	<div class="c_form c_form-label-5 c_form-col-2" jwcid="InfosCondPart@Part">
		<ul class="ul">
			<li class="li">
				<span class="label"><span class="e_required">子模块：</span></span>
				<span class="e_select"><span><span>
				<select jwcid="@Select" id="cond_SUBSYS_CODE" name="cond_SUBSYS_CODE" 
				source="ognl:pageutil.getListDataSource('sys', 'TD_S_SUBSYS', 'SUBSYS_CODE', 'SUBSYS_NAME')"
				valueField="SUBSYS_CODE" textField="SUBSYS_NAME" value="ognl:condition.cond_SUBSYS_CODE"
				titleField="SUBSYS_NAME" nullable="no" desc="子模块" />
			</span></span></span>
			</li>
			
			<li class="li">
				<span class="label"><span class="e_required">接口名称：</span></span>
				<span class="e_input"><span>
					<input jwcid="@TextField" name="cond_INTERFACE_NAME" id="cond_INTERFACE_NAME" value="ognl:condition.cond_INTERFACE_NAME" nullable="no" desc="接口名称"/>
				</span></span>
			</li>
			
			<li class="li">
				<span class="label"><span class="e_required">接口地址：</span></span>
				<span class="e_input"><span>
					<input jwcid="@TextField" name="cond_INTERFACE_ADDR" id="cond_INTERFACE_ADDR" value="ognl:condition.cond_INTERFACE_ADDR" nullable="no" desc="接口地址"/>
				</span></span>
			</li>

			<li class="li">
				<span class="label"><span class="e_required">开发人员：</span></span>
				<span class="e_input"><span>
					<input jwcid="@TextField"  name="cond_UPDATE_STAFF_ID" id="cond_UPDATE_STAFF_ID" value="ognl:condition.cond_UPDATE_STAFF_ID" nullable="no" desc="开发人员"/>
				</span></span>
			</li>
			
			<li class="li col-2">
				<span class="label"><span class="e_required">登陆信息：</span></span>
				<span class="e_textarea">
				<span class="e_textareaTop"><span></span></span>
				<span class="e_textareaContent">
					<textarea type="text" jwcid="@TextArea" id="cond_LOGIN_INFO" name="cond_LOGIN_INFO" value="ognl:condition.cond_LOGIN_INFO" nullable="no" maxsize="10000" style="height:36px;" desc="登陆信息" />
				</span>
				<span class="e_textareaBottom"><span></span></span>
				</span>
			</li>
			
			<!-- 隐藏 开始 -->
			<input jwcid="@TextField" readonly="true" name="cond_INTERFACE_CODE" id="cond_INTERFACE_CODE" value="ognl:condition.cond_INTERFACE_CODE" style="display:none" nullable="no"/>
			<input jwcid="@TextField" readonly="true" name="cond_INTER_ID" id="cond_INTER_ID" value="ognl:condition.cond_INTER_ID" style="display:none" nullable="no"/>
			<!-- 隐藏 结束 -->
		</ul>
	</div>
	<!-- 参数列表 结束 -->
</div>
<!-- 区域 结束 -->



<!-- 区域 开始 -->
<div class="c_box">
	<!-- 标题 开始 -->
	<div class="c_title">
		<div class="text">接口参数信息</div>
	</div>
	<!-- 标题 结束 -->
	
	<!-- 标题 开始 -->
	<div class="c_title c_title-2">
		<div class="text">参数信息</div>
	</div>
	<!-- 标题 开始 -->
	
	<!-- 表单 开始 -->
	<div class="c_form c_form-label-5 c_form-col-2" jwcid="SceneCondPart@Part">
		<ul class="ul">
			<li class="li">
						<span class="label"><span class="e_required">接口场景：</span></span>
						<span class="e_textarea">
						<span class="e_textareaTop"><span></span></span>
						<span class="e_textareaContent">
							<textarea type="text" jwcid="@TextArea" id="cond_INTERFACE_SCENE" name="cond_INTERFACE_SCENE" value="ognl:condition.cond_INTERFACE_SCENE" nullable="yes" rows="4" maxsize="10000" style="height:50px;" desc="接口场景" />
						</span>
						<span class="e_textareaBottom"><span></span></span>
						</span>
			</li>
			<li class="li">
						<span class="label"><span class="e_required">场景参数：</span></span>
						<span class="e_textarea">
						<span class="e_textareaTop"><span></span></span>
						<span class="e_textareaContent">
							<textarea type="text" jwcid="@TextArea" id="cond_PARAM_INFO" name="cond_PARAM_INFO" value="ognl:condition.cond_PARAM_INFO" nullable="yes" rows="4" maxsize="10000" style="height:50px;" desc="场景参数" />
						</span>
						<span class="e_textareaBottom"><span></span></span>
						</span>
			</li>
			
			<!-- 隐藏 开始 -->
			<input jwcid="@TextField" readonly="true" name="cond_SCENE_ID" id="cond_SCENEID" value="ognl:condition.cond_SCENEID" style="display:none" nullable="no"/>
			<!-- 隐藏 结束 -->
		</ul>
	</div>
	<!-- 表单 结束 -->
	
	<!-- 标题 开始 -->
	<div class="c_title c_title-2">
		<div class="text">表格</div>
		<div class="fn">
			<button type="button" id="add" name="add" onclick="return addSceneInfo();"><i class="e_ico-add"></i><span>新增</span></button>
			<!-- <button type="button" id="addLine" name="addLine" onclick="return addSceneLine();"><i class="e_ico-add"></i><span>增行</span></button> -->
			<button type="button" id="del" name="del" onclick="delSceneInfo();"><i class="e_ico-delete"></i><span>删除</span></button>
			<!-- <button type="button" id="deback" name="deback" onclick="delBack();"><i class="e_ico-pre"></i><span>取消删除</span></button>  -->
		</div>
	</div>
	<!-- 标题 结束 -->
	
	<!-- 表格 开始 -->
	<div jwcid="SceneTablePart@Part">
	<div class="c_table c_table-row-5">
		<table jwcid="@Table" name="sceneTable" id="sceneTable" scroll="true" rowDBClick="tableRowDBClick">
			<thead>
				<tr>
					<th col="cond_SCENE_ID" style="width:16px;"></th>
					<th col="SCENE_NM" style="width:300px;">接口场景</th>
					<th col="SCENE_VL">场景参数</th>
					<th col="SCENE_ID" style="display:none"></th>
				</tr>
			</thead>
			<tbody jwcid="@Any" name="SceneTableInfos" id="SceneTableInfos">
				<tr jwcid="@Foreach" source="ognl:sceneinfos" value="ognl:sceneinfo" id="sceneinfos" index="ognl:rowIndex" element="tr">
					<td><input jwcid="@Checkbox" name="sceneid" id="sceneid"/></td>
					<td><span jwcid="@Insert" value="ognl:sceneinfo.SCENE_NM"></span></td>
					<td><span jwcid="@Insert" value="ognl:sceneinfo.SCENE_VL"></span></td>
					<td style="display:none"><span jwcid="@Insert" value="ognl:sceneinfo.SCENE_ID"></span></td>
				</tr>
			</tbody>
		</table>
	</div>
	</div>
	<!-- 表格 结束 -->

</div>
<!-- 区域 结束 -->

	<!-- 提交 开始 -->
	<div class="c_submit">
		<button jwcid="@Button" name="bSubmit" class="e_button-page-ok" onclick="submitInterfaceCreate();"><i></i><span>提交</span></button>
	</div>
	<!-- 提交 结束 -->

</div></div></body>
</html>