!function(t){var a={trunNavPage:function(a){var n=a.attr("paginId"),e=t("#"+n);if(a.attr("class").indexOf("e_dis")==-1){var r=window[e.attr("beforeAction")],o=window[e.attr("afterAction")];if(!r||!t.isFunction(r)||!1!==r(e,a)){var i=t.getNavParams(a);"-1"!=i&&(i+="&"+n+"_needcount=false",t.beginPageLoading(e.attr("loadingtxt")),t.ajax.submit(e.attr("cond"),e.attr("listener"),i,e.attr("part"),function(n){o&&t.isFunction(o)&&o(e,a),t.endPageLoading()},function(a,n){t.endPageLoading(),alert("Erorr Code:"+a+"\r\n"+n)}))}}},initNavPage:function(a,n,e){var r=e?t("#"+e):null,o=t("#"+n),i=t("#"+o.attr("part")),s=o.attr("pagesize"),l=o.attr("current"),u=o.attr("pagecount"),c=(o.attr("count"),o.attr("mode")),g=o.attr("needcount");if(o&&o.length){var p=new t.DataMap(t.ajax.buildJsonData(e)).toString();o.attr("condparams",p)}if(r&&r.length){var d="";d+="&pagin="+a,d+="&"+a+"_current=1",d+="&"+a+"_pagesize="+o.attr("pagesize"),"simple"!=c&&o.attr("needcount","true"),d+="&"+a+"_needcount="+o.attr("needcount"),r.attr("exparams",d),d=null}if(r=null,"simple"==c){var v=t("#"+o.attr("part")+" table:first");if(v&&v.length){var f=t("tbody tr",v[0]).length;(f>=parseInt(s,10)||l>1)&&("1"==l?(t("#"+n+" a[op=pre]").attr("className","pre e_dis"),g&&"1"==u?t("#"+n+" a[op=next]").attr("className","next e_dis"):t("#"+n+" a[op=next]").attr("className","next")):l==u?(t("#"+n+" a[op=pre]").attr("className","pre"),t("#"+n+" a[op=next]").attr("className","next e_dis")):(t("#"+n+" a[op=pre]").attr("className","pre"),t("#"+n+" a[op=next]").attr("className","next")),t("#"+n+" a[op=stat]").attr("className",""),f>=parseInt(s,10)?(t("#"+n+" input[op=go]").attr("disabled",!1),t("#"+n+" button[op=go]").attr("disabled",!1),t("#"+n+" button[op=go]").attr("className","e_button e_button-right")):(t("#"+n+" a[op=next]").attr("className","next e_dis"),t("#"+n+" input[op=go]").attr("disabled",!1),t("#"+n+" button[op=go]").attr("disabled",!1),t("#"+n+" button[op=go]").attr("className","e_button e_button-right"))),i=null,s=null,l=null}"0"!=o.attr("count")&&(t("#"+n+" a[op=stat]").css("display","none"),t("#"+n+" span[op=statinfo]").css("display",""),t("#"+n+" span[op=statinfo]").text(t.lang.get("view.web.comp.navbar.stat",o.attr("count"),o.attr("pagecount"))))}o=null},navGo:function(a){var n=a.attr("paginId"),e=t("#"+n),r=t("#"+n+" input[op=go]").val(),o=parseInt(e.attr("pagecount"),10);if(r=t.trim(r),""!=r&&!/^\d+$/.test(r))return void alert(t.lang.get("view.web.comp.navbar.stat.go"));if("0"==r)return void alert(t.lang.get("view.web.comp.navbar.stat.go"));if(o>0&&o<r)return void alert(t.lang.get("view.web.comp.navbar.stat.go"));var i=window[e.attr("beforeAction")],s=window[e.attr("afterAction")];if(!i||!t.isFunction(i)||!1!==i(e,a)){var l=t.getNavParams(a,r);"-1"!=l&&(l+="&"+n+"_needcount=false",t.beginPageLoading(e.attr("loadingtxt")),t.ajax.submit(e.attr("cond"),e.attr("listener"),l,e.attr("part"),function(){s&&t.isFunction(s)&&s(e,a),t.endPageLoading()},function(a,n){t.endPageLoading(),alert("Erorr Code:"+a+"\r\n"+n)}))}},statNavPage:function(a){if(!a||"e_dis"!=a.attr("class")){var n=a.attr("paginId"),e=t("#"+n),r=e.attr("compid");if("0"!=e.attr("count"))return t("#"+n+" a[op=stat]").css("display","none"),t("#"+n+" span[op=statinfo]").css("display",""),n=null,e=null,void(r=null);var o=a.attr("pagin"),i=window[e.attr("beforeAction")],s=window[e.attr("afterAction")];if(!i||!t.isFunction(i)||!1!==i(e,a)){var l=t.getNavParams(a);if("-1"!=l){l+="&"+n+"_onlycount=true",l+="&"+n+"_needcount=false",t.beginPageLoading(e.attr("loadingtxt"));var u=t("#"+n+" a[op=stat]"),c=t("#"+n+" span[op=statinfo]"),g=t("#"+n+" div[statpart="+n+"]");t.ajax.submit(e.attr("cond"),e.attr("listener"),l,r,function(r){var i=r.get("count"),p=r.get("size"),d=t("#"+n);d.attr("count",i),d.attr("pagecount",p);var v=d.attr("current"),f=d.attr("pagecount");v==f&&t("#"+n+" a[op=next]").attr("className","next e_dis");var m=t("#"+d.attr("cond")),b=d.attr("mode");if(m&&m.length){var w="";w+="&pagin="+o,w+="&"+o+"_current=1",w+="&"+o+"_pagesize="+d.attr("pagesize"),"simple"!=b&&d.attr("needcount","true"),w+="&"+o+"_needcount="+d.attr("needcount"),m.attr("exparams",w),w=null}m=null,b=null,u.css("display","none"),c.css("display",""),c.text(t.lang.get("view.web.comp.navbar.stat",i,p)),s&&t.isFunction(s)&&s(e,a),n=null,e=null,o=null,l=null,u=null,c=null,d=null,g=null,t.endPageLoading()},function(a,r){n=null,e=null,o=null,l=null,g=null,t.endPageLoading(),alert("Erorr Code:"+a+"\r\n"+r)})}}}},getNavParams:function(a,n){var e,r,o,i,s=a.attr("pagin"),l=a.attr("paginId"),u=a.attr("op"),c=t("#"+l),g=t("#"+c.attr("cond"));e=c.attr("count"),r=null==n?c.attr("current"):n;var p=t("#"+l+"_cust_count");o=p.length>0?p.val():c.attr("pagesize");var d=t.verifyCustCount(o);if(!d)return"-1";o=parseInt(o,10),p.val(o),c.attr("pagesize",o),i=c.attr("pagecount");var v=new t.DataMap(t.ajax.buildJsonData(c.attr("cond"))).toString();return v!=c.attr("condparams")?(alert(t.lang["view.web.comp.navbar.query"]),"-1"):(null==n&&("first"==u?r=1:"pre"==u?r=parseInt(r,10)-1:"next"==u?r=parseInt(r,10)+1:"last"==u&&(r=parseInt(i,10))),g.attr("exparams",""),params="&pagin="+s+"&"+s+"_count="+e+"&"+s+"_current="+r+"&"+s+"_pagesize="+o)},custCount:function(a){var n=a.attr("paginId"),e=t("#"+n),r=window[e.attr("beforeAction")],o=window[e.attr("afterAction")];if(!r||!t.isFunction(r)||!1!==r(e,a)){var i=t.getNavParams(a);"-1"!=i&&(i+="&"+n+"_needcount=false",t.beginPageLoading(e.attr("loadingtxt")),t.ajax.submit(e.attr("cond"),e.attr("listener"),i,e.attr("part"),function(){o&&t.isFunction(o)&&o(e,a),t.endPageLoading()},function(a,n){t.endPageLoading(),alert("Erorr Code:"+a+"\r\n"+n)}))}},verifyCustCount:function(a){var n=500,e=0,r=/^[\d]{1,3}$/,o=r.test(a),i=!1;if(o){var s=parseInt(a,10);s==e?alert(t.lang.get("view.web.comp.navbar.custcount.nummaxbigerthan")):s<=n?i=!0:alert(t.lang.get("view.web.comp.navbar.custcount.numistolarge",n))}else alert(t.lang.get("view.web.comp.navbar.custcount.maxnum"));return i}};Wade.extend(a),Wade.extend(window,a)}(Wade);