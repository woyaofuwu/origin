!function(i){"undefined"==typeof i.Flip&&(i.Flip=function(e,t){return new i.Flip.fn.construct(e,t)},i.Flip.fn={construct:function(e,t){this.id=e,i.extend(this,t),this.previousValue=this.getInitValue()},get:function(i){return window["Flip_"+i]},setValue:function(e){i("#"+this.id).val(e),this.justIfNumeric()},setDisabled:function(e){0!=e?(i("#"+this.id).attr("disabled",!0),i("#flip_add_"+this.id).attr("disabled",!0),i("#flip_add_"+this.id).addClass("e_dis"),i("#flip_down_"+this.id).attr("disabled",!0),i("#flip_down_"+this.id).addClass("e_dis")):(i("#"+this.id).removeAttr("disabled"),i("#flip_add_"+this.id).removeAttr("disabled"),i("#flip_add_"+this.id).removeClass("e_dis"),i("#flip_down_"+this.id).removeAttr("disabled"),i("#flip_down_"+this.id).removeClass("e_dis"))},verifyNumeric:function(e){var t=i.verifylib.checkNumeric(e);if(t&&(t=i.verifylib.checkNumbericRange(e,this.minData,this.maxData)),!t){alert(i.lang["view.web.component.base.flip.dataError"]);var a=i.verifylib.checkNumeric(this.previousValue);return void(a?i("#"+this.id).val(this.previousValue):i("#"+this.id).val(this.getInitValue()))}this.previousValue=e},justIfNumeric:function(){var e=i("#"+this.id).val();this.verifyNumeric(e)},valueChanged:function(){var e=i("#"+this.id).val();e!=this.previousValue&&e&&(e.lastIndexOf(".")==e.length-1&&(e=e.substring(0,e.length-1)),this.verifyNumeric(e))},keyUpAction:function(e){var t=i.verifylib.checkNumeric(i("#"+this.id).val());return t?void("up"==e?this.increaseAction():this.decreaseAction()):void i("#"+this.id).val(this.previousValue)},clickAction:function(e){var t=i.verifylib.checkNumeric(i("#"+this.id).val());return t?void("up"==e?this.increaseAction():this.decreaseAction()):void i("#"+this.id).val(this.previousValue)},increaseAction:function(){var e=i("#"+this.id).val();e&&""!=e||(e="0");var t=i.verifylib.checkNumeric(e);if(!t){var a=i.verifylib.checkNumeric(this.previousValue);return void(a?i("#"+this.id).val(this.previousValue):i("#"+this.id).val(this.getInitValue()))}this.beforeAction&&i.isFunction(this.beforeAction)&&this.beforeAction.call(i("#"+this.id),"up");var s=e.indexOf("."),r=(this.degree+"").indexOf("."),n=e.length,h=(this.degree+"").length,l=s>-1||r>-1;e=l?parseFloat(e,10)+parseFloat(this.degree,10):parseInt(e,10)+parseInt(this.degree,10);var c=i.verifylib.checkNumbericRange(e,this.minData,this.maxData);if(c||(e=this.maxData),l){s==-1&&(s=n),r==-1&&(r=h);var d=n-s,o=h-r;o<d&&(o=d);var u="0.";o-=1;for(var v=0;v<o;v++)u+="0";e=i.format.number(e,u)}this.previousValue=e,i("#"+this.id).val(e),this.afterAction&&i.isFunction(this.afterAction)&&this.afterAction.call(i("#"+this.id),"up")},decreaseAction:function(){var e=i("#"+this.id).val();e&&""!=e||(e="0");var t=i.verifylib.checkNumeric(e);if(!t){var a=i.verifylib.checkNumeric(this.previousValue);return void(a?i("#"+this.id).val(this.previousValue):i("#"+this.id).val(this.getInitValue()))}this.beforeAction&&i.isFunction(this.beforeAction)&&this.beforeAction.call(i("#"+this.id),"down");var s=(i.verifylib.checkNumbericRange(e,this.minData,this.maxData),e.indexOf(".")),r=(this.degree+"").indexOf("."),n=e.length,h=(this.degree+"").length,l=s>-1||r>-1;e=l?parseFloat(e,10)-parseFloat(this.degree,10):parseInt(e,10)-parseInt(this.degree,10);var c=i.verifylib.checkNumbericRange(e,this.minData,this.maxData);if(c||(e=this.minData),l){s==-1&&(s=n),r==-1&&(r=h);var d=n-s,o=h-r;o<d&&(o=d);var u="0.";o-=1;for(var v=0;v<o;v++)u+="0";e=i.format.number(e,u)}this.previousValue=e,i("#"+this.id).val(e),this.afterAction&&i.isFunction(this.afterAction)&&this.afterAction.call(i("#"+this.id),"down")},getInitValue:function(){var e=this.initValue,t=i.verifylib.checkNumeric(this.initValue);return t?(t=i.verifylib.checkNumbericRange(this.initValue,this.minData,this.maxData),t||(e="")):e="",e},initValue:0,minData:void 0,maxData:void 0,degree:1,isDisabled:!1,isReadOnly:!1,beforeAction:void 0,afterAction:void 0,previousValue:""},i.Flip.fn.construct.prototype=i.Flip.fn,i.Flip.get=i.Flip.fn.get)}(Wade);