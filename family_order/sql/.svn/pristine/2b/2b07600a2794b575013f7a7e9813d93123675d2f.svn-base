INSERT INTO TF_B_TRADE_PAYRELATION(TRADE_ID,ACCEPT_MONTH,USER_ID,INST_ID,ACCT_ID,PAYITEM_CODE,MODIFY_TAG,ACCT_PRIORITY,ACT_TAG,USER_PRIORITY,
       BIND_TYPE,START_CYCLE_ID,END_CYCLE_ID,DEFAULT_TAG,LIMIT_TYPE,LIMIT,COMPLEMENT_TAG,UPDATE_TIME,UPDATE_STAFF_ID,UPDATE_DEPART_ID,REMARK)
SELECT :TRADE_ID,SUBSTR(:TRADE_ID, 5, 2),TO_CHAR(a.USER_ID) USER_ID,a.INST_ID,TO_CHAR(a.ACCT_ID) ACCT_ID,a.PAYITEM_CODE,:MODIFY_TAG,a.ACCT_PRIORITY,a.ACT_TAG,a.USER_PRIORITY,
       a.BIND_TYPE,a.START_CYCLE_ID,TO_CHAR(LAST_DAY(ADD_MONTHS(SYSDATE, -1)), 'YYYYMMDD'),a.DEFAULT_TAG,a.LIMIT_TYPE,TO_CHAR(a.LIMIT) LIMIT,a.COMPLEMENT_TAG,a.UPDATE_TIME,a.UPDATE_STAFF_ID,a.UPDATE_DEPART_ID,a.REMARK 
FROM TF_A_PAYRELATION A, TF_A_PAYRELATION B
WHERE A.ACCT_ID = B.ACCT_ID
   AND B.USER_ID = TO_NUMBER(:USER_ID)
   AND B.PARTITION_ID = MOD(:USER_ID, 10000)
   AND B.DEFAULT_TAG = '1'
   AND B.ACT_TAG = '1'
   AND TO_CHAR(SYSDATE, 'yyyymmdd') BETWEEN B.START_CYCLE_ID AND B.END_CYCLE_ID
   AND A.DEFAULT_TAG = '0'
   AND A.ACT_TAG = '1'
   AND A.PAYITEM_CODE = '41000'
   AND TO_CHAR(SYSDATE, 'yyyymmdd') BETWEEN A.START_CYCLE_ID AND A.END_CYCLE_ID