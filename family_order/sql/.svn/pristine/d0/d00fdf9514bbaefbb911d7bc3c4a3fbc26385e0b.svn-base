SELECT DEVICE_ID RES_NO,       
       DEVICE_TYPE_CODE RES_TYPE_CODE, 
       EPARCHY_CODE,
       CITY_CODE,
       DEVICE_NUMBER SERIAL_NUMBER,
       STOCK_ID,
       DEPART_CODE,
       DEVICE_STAFF_ID STAFF_ID,
       TO_CHAR(OPEN_DATE, 'yyyy-mm-dd') OPEN_DATE,
       OPEN_ADDRESS IP_ADDRESS,
       OPEN_MODE IN_MODE,
       TO_CHAR(END_DATE, 'yyyy-mm-dd') END_DATE,
       RENT_MONTHS MONTHS,
       LAST_ACCT_MONTH RSRV_STR6,
       LAST_FEE_MONTH RSRV_STR7,
       FEE FEE,
       BALANCE,
       RECV_FEE,
       REMOVE_TAG,
       OWE_TAG CANCEL_TAG,
       REMARK,
       RSRV_TAG1,
       RSRV_TAG2,
       RSRV_TAG3,
       RSRV_NUM1,
       RSRV_NUM2,
       RSRV_NUM3,
       TO_CHAR(RSRV_TIME1, 'yyyy-mm-dd hh24:mi:ss') RSRV_DATE1,
       TO_CHAR(RSRV_TIME2, 'yyyy-mm-dd hh24:mi:ss') RSRV_DATE2,
       TO_CHAR(RSRV_TIME3, 'yyyy-mm-dd hh24:mi:ss') RSRV_DATE3,
       RSRV_STR1,
       RSRV_STR2,
       RSRV_STR3,
       RSRV_STR4,
       RSRV_STR5,
       TO_CHAR(CREATE_TIME, 'yyyy-mm-dd hh24:mi:ss') BEGIN_TIME,
       CREATE_STAFF_ID TRADE_STAFF_ID,
       CREATE_DEPART_ID TRADE_DEPART_ID,
       TO_CHAR(DESTROY_TIME, 'yyyy-mm-dd hh24:mi:ss') DESTROY_TIME,
       DESTROY_STAFF_ID CANCEL_STAFF_ID,
       DESTROY_DEPART_ID CANCEL_DEPART_ID,
       TO_CHAR(UPDATE_TIME, 'yyyy-mm-dd hh24:mi:ss') UPDATE_TIME,
       UPDATE_STAFF_ID,
       UPDATE_DEPART_ID
  FROM TF_R_SELF_HELP_DEVICE T
 WHERE T.DEVICE_STAFF_ID = :DEVICE_STAFF_ID
   AND (:REMOVE_TAG IS NULL OR t.REMOVE_TAG = :REMOVE_TAG)