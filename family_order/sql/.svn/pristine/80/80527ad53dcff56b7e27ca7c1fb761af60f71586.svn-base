SELECT DISTINCT A.SERVICE_ID,A.INST_ID,
       A.GIFT_SERIAL_NUMBER,
       A.START_DATE,
       A.END_DATE,
       A.BIZ_STATE_CODE,
       A.REMARK,
       A.UPDATE_STAFF_ID,
       A.UPDATE_DEPART_ID,
       A.UPDATE_TIME,
       A.USER_ID,
       D.SERIAL_NUMBER,
       A.FIRST_DATE,
       A.FIRST_DATE_MON,
       A.GIFT_USER_ID
  FROM TF_F_USER_PLATSVC A, TF_F_USER D
 WHERE A.USER_ID = :USER_ID
   AND A.PARTITION_ID = MOD(:USER_ID,'10000')
   AND A.USER_ID = D.USER_ID
   AND A.PARTITION_ID = D.PARTITION_ID
   AND NOT SYSDATE BETWEEN A.START_DATE AND A.END_DATE
   AND A.BIZ_STATE_CODE = 'A' 